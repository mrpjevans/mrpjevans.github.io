
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="The personal blog of PJ Evans">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Nothing+You+Could+Do&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Coustard&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <link href="/src/css/mrpjevans.css" rel="stylesheet">

		<link rel="icon" type="image/png" size="256x256" href="/images/pj-blog-logo-256.png">

		<link rel="icon" type="image/png" size="512x512" href="/images/pj-blog-logo-512.png">

		<link rel="alternate" type="application/rss+xml" title="Mr PJ Evans Blog Feed" href="https://mrpjevans.com/feed/feed.xml">

		<title>Mr PJ Evans | An Atari 2600 in a Cartridge</title>

  </head>
  <body data-bs-theme="dark">

    <div class="container">
      <div class="row justify-content-md-center">
        <div class="col-md-8 col-sm-12 col-lg-6">

					<header>
						<nav class="navbar bg-dark navbar-expand-lg border-bottom border-body" data-bs-theme="dark">
							<div class="container-fluid">
								<a class="navbar-brand logo" href="/">Mr PJ Evans</a>
								<div>
									<div>
										<ul class="navbar-nav me-auto mb-2 mb-lg-0">
											<li class="nav-item">
											<a class="nav-link " href="/tags">Tags</a>
											</li>
											<li class="nav-item">
												<a class="nav-link " href="/about">About</a>
											</li>
										</ul>
									</div>	
								</div>
							</div>
						</nav>
					</header>

					<main>
          	
  

  

  

  
    
    


    <h1 class="h1-with-date">An Atari 2600 in a Cartridge</h1>

<p class="meta-date text-center">24 Jun 2017</p>

<picture><source type="image/webp" srcset="/images/2017-06-24-17.12.23-2000w.webp 2000w"><img src="/images/2017-06-24-17.12.23-2000w.jpeg" alt="" width="2000" height="1056"></picture>

<article>
  <p>You know when you’re having that long-overdue clean-out and you find a few things stashed away you’d forgotten about? From when you said “that’ll make a great project one day” then tossed it in your equivalent of the bargain bin? Just happened to me.</p><p>A few years ago, I got a great <a href="https://en.wikipedia.org/wiki/Atari_2600?ref=stowe.local">Atari 2600 VCS</a> job lot. Two consoles (a light-sixer and a Vader – now both composite modded) and a stack of games. Out of all the games only one appeared to be beyond repair. That cartridge, Activision’s F-14 Tomcat, was duly placed in the bits and bobs box until a project came to light for it.</p><p>Almost simultaneously, I came across the cart and a couple of 9-pin sub-D joystick ports. The brain, it ticked. And tocked. And finally came up with a Raspberry Pi Zero. Of course, an Atari 2600 in a cartridge! Why not? Why? Who cares.</p><figure class="kg-card kg-image-card"><picture><source type="image/webp" srcset="/images/2017-06-01-13.15.07-1000w.webp 1000w"><img src="/images/2017-06-01-13.15.07-1000w.jpeg" class="kg-image" alt="" loading="lazy" width="1000" height="750"></picture></figure><p>Before I did anything else, I prototyped the build on a Raspberry Pi 2 and a breadboard. My requirements were:</p><ul><li>Inputs for two joysticks</li><li>A power button</li><li>A method for shutting the Pi down cleanly</li><li>The TV colour switch</li><li>The difficulty switches for both players</li><li>Select and reset</li><li>Some method of access to the console</li></ul><p>Thankfully, the newer Pis have enough GPIO inputs to handle all this.</p><p>The Atari emulation itself is very straightforward. I decided to use the excellent <a href="https://retropie.org.uk/?ref=stowe.local">RetroPie</a> operating system as it handles all the game selection menus for you. I would then use <a href="https://stella-emu.github.io/?ref=stowe.local">Stella</a> for the actual emulation of the Atari 2600.</p><p>The trick now was how to couple-up the joysticks and buttons to the emulator. The easiest approach is to trigger keypresses and map the emulator to them. After some research and a few false-starts, I settled on <a href="https://learn.adafruit.com/retro-gaming-with-raspberry-pi/?ref=stowe.local">Adafruit’s Retrogame</a> package, which did exactly what I needed. With a simple config file, I could map changes on the GPIO pins to keypresses. It worked perfectly. Soon I had a breadboard mockup where I was controlling the games by shorting the pins to ground.</p><figure class="kg-card kg-image-card"><picture><source type="image/webp" srcset="/images/2017-06-10-18.05.19-copy-2000w.webp 2000w"><img src="/images/2017-06-10-18.05.19-copy-2000w.jpeg" class="kg-image" alt="" loading="lazy" width="2000" height="1500"></picture></figure><p>Another problem with keys was to be able to shutdown the Pi cleanly. I ended up writing a short Python script using the <a href="http://tjjr.fi/sw/python-uinput/?ref=stowe.local">python-uinput</a> package. This does a similar job to Retrogame but I was able to configure things so if the power button was pressed once it would quit the current game (and return to the selection menu) but if held for three seconds, it would trigger a system shutdown. Implementing this script also gave me the chance to add an LED to the front so I could see when the system had finished shutting down (I also really like LEDs).</p><p>The last part was adding a barrel connector hooked up to the UART pins so should I ever need to, I can get console access without having to take everything apart. I tend to do this just out of habit with build like this and have a ready-made USB-to-UART lead with a 3.5” stereo jack on the end.</p><p>To work!</p><p>First off, lets get that cartridge cleanup, open and remove all that complex circuitry. Oh.</p><figure class="kg-card kg-image-card"><picture><source type="image/webp" srcset="/images/2017-06-11-14.06.01-copy-1740w.webp 1740w"><img src="/images/2017-06-11-14.06.01-copy-1740w.jpeg" class="kg-image" alt="" loading="lazy" width="1740" height="2320"></picture></figure><p>Next, get rid of all the interior posts and bits with a pair of pilers and some deft craft-knife work to get it as smooth as possible. Didn’t need to be perfect.</p><figure class="kg-card kg-image-card"><picture><source type="image/webp" srcset="/images/2017-06-11-14.42.10-copy-2000w.webp 2000w"><img src="/images/2017-06-11-14.42.10-copy-2000w.jpeg" class="kg-image" alt="" loading="lazy" width="2000" height="1500"></picture></figure><p>I wanted to not only have the joystick ports (which, let’s be honest, are kinda important) but also all the switches that the original Atari VCS has. So, I measured up the front area and made up a template to make sure everything would fit.</p><figure class="kg-card kg-image-card"><picture><source type="image/webp" srcset="/images/2017-06-11-15.23.00-copy-2000w.webp 2000w"><img src="/images/2017-06-11-15.23.00-copy-2000w.jpeg" class="kg-image" alt="" loading="lazy" width="2000" height="1500"></picture></figure><figure class="kg-card kg-image-card"><picture><source type="image/webp" srcset="/images/2017-06-11-15.39.26-copy-2000w.webp 2000w"><img src="/images/2017-06-11-15.39.26-copy-2000w.jpeg" class="kg-image" alt="" loading="lazy" width="2000" height="1500"></picture></figure><p>With the template in place and looking good, next up was to cut the holes. I only had one shot at this, so time was taken. The holes for the switches were done with a low-speed drill and the larger joystick holes with a rotary tool.</p><figure class="kg-card kg-image-card"><picture><source type="image/webp" srcset="/images/2017-06-12-17.21.42-copy-2000w.webp 2000w"><img src="/images/2017-06-12-17.21.42-copy-2000w.jpeg" class="kg-image" alt="" loading="lazy" width="2000" height="1500"></picture></figure><p>A little scraping later, and the ports fit nicely.</p><figure class="kg-card kg-image-card"><picture><source type="image/webp" srcset="/images/2017-06-11-16.11.23-copy-1-1740w.webp 1740w"><img src="/images/2017-06-11-16.11.23-copy-1-1740w.jpeg" class="kg-image" alt="" loading="lazy" width="1740" height="2320"></picture></figure><p>Now to get a bit more artistic. The Atari cart font was easy enough to track down (it’s called <a href="http://fontsgeek.com/fonts/MumboSSK-Bold?ref=stowe.local">MumboSSK</a>) and I made a little mock-up of a cart with labels for all the controls. The graphics were, ahem, borrowed from the cover of ‘<a href="http://www.artofatari.com/?ref=stowe.local">Art of Atari</a>’. I suggest you buy it as it’ll make me feel better.</p><figure class="kg-card kg-image-card kg-card-hascaption"><picture><source type="image/webp" srcset="/images/2017-06-13-19.06.27-copy-2000w.webp 2000w"><img src="/images/2017-06-13-19.06.27-copy-2000w.jpeg" class="kg-image" alt="" loading="lazy" width="2000" height="1500"></picture><figcaption>Apologies for the wobble-vision</figcaption></figure><p>Time to get the soldering iron out. Thankfully the Pi Zero (I’m using the original, not the W) has enough GPIO pins to cover all my requirements. I needed five controls per player (up, down, left, right, fire) and a further six for my control buttons. Luckily the Zero could accommodate this without needing to resort to any kind of space-destroying input extender.</p><figure class="kg-card kg-image-card"><picture><source type="image/webp" srcset="/images/2017-06-14-16.34.28-copy-2000w.webp 2000w"><img src="/images/2017-06-14-16.34.28-copy-2000w.jpeg" class="kg-image" alt="" loading="lazy" width="2000" height="1500"></picture></figure><p>With everything tested, time to fix things in place. Superglue did the trick nicely for the ports, but the Pi is mounted with (non-conductive!) sticky foam pads.</p><figure class="kg-card kg-image-card"><picture><source type="image/webp" srcset="/images/2017-06-15-17.44.09-copy-1740w.webp 1740w"><img src="/images/2017-06-15-17.44.09-copy-1740w.jpeg" class="kg-image" alt="" loading="lazy" width="1740" height="2320"></picture></figure><p>Time to very carefully fold things up.</p><figure class="kg-card kg-image-card"><picture><source type="image/webp" srcset="/images/2017-06-16-15.07.02-copy-2000w.webp 2000w"><img src="/images/2017-06-16-15.07.02-copy-2000w.jpeg" class="kg-image" alt="" loading="lazy" width="2000" height="1500"></picture></figure><p>I’m not quite prepared to get the glue out yet, so an elastic band is helping hold the cart together in the meantime.</p><figure class="kg-card kg-image-card"><picture><source type="image/webp" srcset="/images/2017-06-23-11.00.32-copy-2000w.webp 2000w"><img src="/images/2017-06-23-11.00.32-copy-2000w.jpeg" class="kg-image" alt="" loading="lazy" width="2000" height="1500"></picture></figure><p>I mapped the Emulationstation (RetroPie’s UI) controls to the same as the left joystick so you can select your game. Once in a game, a tap on the power button will drop you back to the main menu.</p><figure class="kg-card kg-image-card"><picture><source type="image/webp" srcset="/images/2017-06-24-17.09.36-copy-2000w.webp 2000w"><img src="/images/2017-06-24-17.09.36-copy-2000w.jpeg" class="kg-image" alt="" loading="lazy" width="2000" height="1500"></picture></figure><figure class="kg-card kg-image-card"><picture><source type="image/webp" srcset="/images/2017-06-24-17.10.24-copy-2000w.webp 2000w"><img src="/images/2017-06-24-17.10.24-copy-2000w.jpeg" class="kg-image" alt="" loading="lazy" width="2000" height="1500"></picture></figure><p>So there you go. Hours of fun on Combat ahead. Think I’ll skip E.T. though. The Pi Zero has enough grunt to run Stella very well indeed, although it finds Emulationstation a bit of a struggle (but not bad enough to be unusable).</p><p>I’ll be bringing this little gizmo to the <a href="https://mkraspberryjam.org/?ref=stowe.local">Milton Keynes Raspberry Jam</a> on the 15th July 2017. Hopefully I’ll see you there!</p>
</article>


<div class="row">
  <div class="col-12 mb-3">
    
      
        <a href="/tags/makes" class="badge rounded-pill text-bg-primary">Makes</a>
      
    
      
        <a href="/tags/raspberry-pi" class="badge rounded-pill text-bg-primary">Raspberry Pi</a>
      
    
      
        <a href="/tags/vintage-tech" class="badge rounded-pill text-bg-primary">Vintage Tech</a>
      
    
      
    
  </div>
</div>
<p class="backlink">
  <a href="/">Home</a>
</p>
					</main>

        </div>

        <div class="row justify-content-md-center p-0">
					
          <footer class="col-md-8 col-sm-12 col-lg-6 footer">

            <hr>

            <div xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/">
						  
							<a id="rss-icon" href="/feed/feed.xml" aria-label="RSS Feed">
								<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-rss-fill" viewBox="0 0 16 16">
  <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm1.5 2.5c5.523 0 10 4.477 10 10a1 1 0 1 1-2 0 8 8 0 0 0-8-8 1 1 0 0 1 0-2m0 4a6 6 0 0 1 6 6 1 1 0 1 1-2 0 4 4 0 0 0-4-4 1 1 0 0 1 0-2m.5 7a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3"></path>
</svg>
							</a>

							<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer">
							<span class="cc">
								<picture><source type="image/webp" srcset="/images/by-nc-sa.eu-403w.webp 403w"><img src="/images/by-nc-sa.eu-403w.jpeg" alt="CC BY-NC-SA" width="403" height="141"></picture>
							</span>
						</a>

            <p></p>

          </div></footer>
        </div>

      </div>

    </div>

		<script data-goatcounter="https://mrpjevans.goatcounter.com/count" async="" src="//gc.zgo.at/count.js"></script>
  </body>
</html>