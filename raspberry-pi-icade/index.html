
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="The personal blog of PJ Evans">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Nothing+You+Could+Do&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Coustard&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <link href="/src/css/mrpjevans.css" rel="stylesheet">

		<link rel="icon" type="image/png" size="256x256" href="/images/pj-blog-logo-256.png">

		<link rel="icon" type="image/png" size="512x512" href="/images/pj-blog-logo-512.png">

		<link rel="alternate" type="application/rss+xml" title="Mr PJ Evans Blog Feed" href="https://mrpjevans.com/feed/feed.xml">

		<title>Mr PJ Evans | Raspberry Pi + iPad Screen + iCade = Bartop</title>

  </head>
  <body data-bs-theme="dark">

    <div class="container">
      <div class="row justify-content-md-center">
        <div class="col-md-8 col-sm-12 col-lg-6">

					<header>
						<nav class="navbar bg-dark navbar-expand-lg border-bottom border-body" data-bs-theme="dark">
							<div class="container-fluid">
								<a class="navbar-brand logo" href="/">Mr PJ Evans</a>
								<div>
									<div>
										<ul class="navbar-nav me-auto mb-2 mb-lg-0">
											<li class="nav-item">
											<a class="nav-link " href="/tags">Tags</a>
											</li>
											<li class="nav-item">
												<a class="nav-link " href="/about">About</a>
											</li>
										</ul>
									</div>	
								</div>
							</div>
						</nav>
					</header>

					<main>
          	
  

  

  

  
    
    


    <h1 class="h1-with-date">Raspberry Pi + iPad Screen + iCade = Bartop</h1>

<p class="meta-date text-center">05 Dec 2017</p>

<picture><source type="image/webp" srcset="/images/IMG_1120-1-962w.webp 962w"><img src="/images/IMG_1120-1-962w.jpeg" alt="" width="962" height="1281"></picture>

<article>
  <figure class="kg-card kg-image-card kg-card-hascaption"><picture><source type="image/webp" srcset="/images/IMG_1120-962w.webp 962w"><img src="/images/IMG_1120-962w.jpeg" class="kg-image" alt="" loading="lazy" width="962" height="1281"></picture><figcaption>WAKKA WAKKA WAKKA</figcaption></figure><p>Way back when, I bought an <a href="https://www.ionaudio.com/products/details/icade?ref=stowe.local">iCade</a>. This bartop-style arcade machine was actually a very pretty bluetooth controller. Simply slot your first-generation iPad into the ‘screen’ and pair. A number of iPad games supported it, but I never really enjoyed the experience. So, I decided to turn it into a ‘proper’ arcade machine by bending back an old laptop and wiring the controls to the circuitry of an old handheld USB controller.</p><p>It’s been a couple of years now and, never having been happy with the result, I decided to try again. This time, the Mighty Mouse that is the Raspberry Pi will be running the show.</p><p>The main problem with the previous build was the screen. The iCade is old-school portrait style so any regular screen needs to be rotated to fit. The old Compaq laptop I was using had a polarising filter which, when in place, gave a jarring effect from eye-to-eye. I tried to locate a suitably sized screen for the iCade but everything was either too small, too large or way too expensive.</p><p>Mind you, I still had my old iPad lying around. It’s now more-or-less defunct bar the most basic operations and it’s forever stuck on iOS 5. Could I upcycle the screen? To Google!</p><p>The answer, to my surprise, was a resounding <em>yes</em>. A company in (you guessed it) China was producing a generic <a href="http://www.ebay.co.uk/itm/like/253161741432?ref=stowe.local">LVDS-to-HDMI board (eBay UK)</a> and had a variant that supported the screen of the first-generation iPad. All of these was quickly procured from a popular auction site for the princely sum of £23. Two weeks later a bundle of circuits and cables turn up. Time to get a screwdriver.</p><figure class="kg-card kg-image-card kg-card-hascaption"><picture><source type="image/webp" srcset="/images/IMG_0875-1000w.webp 1000w"><img src="/images/IMG_0875-1000w.jpeg" class="kg-image" alt="" loading="lazy" width="1000" height="750"></picture><figcaption>Showing iPad screen connector</figcaption></figure><figure class="kg-card kg-image-card kg-card-hascaption"><picture><source type="image/webp" srcset="/images/IMG_0874-1000w.webp 1000w"><img src="/images/IMG_0874-1000w.jpeg" class="kg-image" alt="" loading="lazy" width="1000" height="750"></picture><figcaption>Oodles of wires!</figcaption></figure><p>If this project is of interest to you, time for a massive disclaimer. What I did next ONLY WORKS ON THE FIRST GENERATION IPAD. Any attempt to remove the screen from ANY OTHER MODEL will probably result in a SHATTERED SCREEN and SADNESS. Why? Only the first-gen iPads used clips to hold the screen in place, all others are GLUED.</p><p>Getting the screen out was surprisingly easy, just gently release the clips with a small flat-edged screwdrivers little-by-little. The screen then comes out easily with a few cables and sticky bits to remove.</p><figure class="kg-card kg-image-card kg-card-hascaption"><picture><source type="image/webp" srcset="/images/IMG_0878-1000w.webp 1000w"><img src="/images/IMG_0878-1000w.jpeg" class="kg-image" alt="" loading="lazy" width="1000" height="750"></picture><figcaption>Breathe. Breathe.</figcaption></figure><p>To my utter astonishment, wiring in the mystery boards from Schengen worked first time. Suddenly, my iPad screen was a 720p TV. The board supports HDMI, VGA and composite inputs and even comes with a remote control and control buttons to set brightness, contrast and more. Sure enough, a test wire-up to my Raspberry Pi 3 got a screen right away. The project was up and running.</p><figure class="kg-card kg-image-card kg-card-hascaption"><picture><source type="image/webp" srcset="/images/IMG_0882-1000w.webp 1000w"><img src="/images/IMG_0882-1000w.jpeg" class="kg-image" alt="" loading="lazy" width="1000" height="750"></picture><figcaption>IT’S ALIVE!</figcaption></figure><figure class="kg-card kg-image-card kg-card-hascaption"><picture><source type="image/webp" srcset="/images/IMG_0885-1000w.webp 1000w"><img src="/images/IMG_0885-1000w.jpeg" class="kg-image" alt="" loading="lazy" width="1000" height="750"></picture><figcaption>First Test Wire-Up. No Bus-B undervolts here.</figcaption></figure><p>You will need:</p><ul><li>An iCade (lots on eBay at time of writing)</li><li>Raspberry Pi 3 (only sensible choice for running arcade games) and a nice, fast SD card</li><li><a href="http://www.ebay.co.uk/itm/like/253161741432?ref=stowe.local">iPad screen LVDS-to-HDMI convertor</a></li><li>12V 2A PSU to power the interface (barrel connector, centre positive) <a href="https://www.amazon.co.uk/gp/product/B00ENZUQO8/ref=oh_aui_detailpage_o09_s00?ie=UTF8&psc=1&ref=stowe.local">(example)</a></li><li>5V 2.5A Raspberry Pi PSU</li><li>11 jumper leads with at least one socket/female end (about 20cm in length) to connect the controls to the GPIO on the Pi</li><li><a href="https://www.amazon.co.uk/HDMI-Cable-SODIAL-20cm-Plated-Black/dp/B01LZ46NHS/ref=sr_1_3?ie=UTF8&qid=1512396185&sr=8-3&keywords=20cm+hdmi&ref=stowe.local">20cm HDMI cable (Male-Male)</a></li><li>Thick black card</li><li>USB-powered speaker</li><li><a href="https://www.amazon.co.uk/dp/B00OI6F67O?aaxitk=SLh0miYx6KP5ZcPPIKHLkg&pd_rd_i=B00OI6F67O&hsa_cr_id=6143480970902&ref=stowe.local">Command Velcro stickers (large)</a></li><li>(Optional) <a href="https://www.modmypi.com/raspberry-pi/accessories-198/heat-sinks-and-cooling/raspberry-pi-heat-sink-kit-black/?search=heatsink&ref=stowe.local">Raspberry Pi heatsinks</a> (if you’re planning on overclocking to run some of the more demanding games)</li></ul><p>Start by disassembling the iCade and removing all the electrical gubbins, snipping the wires to the controllers with a bit of length left over. Now attach the jumper leads (not the socket side) to each line (you’ll need a ground too). I used small electrical junctions but you could solder them instead. Feed the jumper leads through the back of the controller assembly (I opened a hole with some pilers). You can now reassemble the controller unit.</p><p>Here’s my choice of GPIO connections (Broadcom pin names):</p><ul><li>Joystick Left: GPIO22</li><li>Joystick Right:GPIO17</li><li>Joystick Up:GPIO27</li><li>Joystick Down:GPIO4</li><li>Red 1:GPIO6</li><li>Red 2:GPIO12</li><li>Black 1:GPIO13</li><li>Black 2:GPIO16</li><li>White 1:GPIO26</li><li>White 2:GPIO21</li></ul><p>Of course, you’ll need to ground the controllers as well to any of the Pi’s GND pins.</p><p>Note that the right-hand black buttons are unused (although there is capacity to add them if you wish).</p><figure class="kg-card kg-image-card kg-card-hascaption"><picture><source type="image/webp" srcset="/images/IMG_0884-750w.webp 750w"><img src="/images/IMG_0884-750w.jpeg" class="kg-image" alt="" loading="lazy" width="750" height="1000"></picture><figcaption>A pile of iCade</figcaption></figure><figure class="kg-card kg-image-card kg-card-hascaption"><picture><source type="image/webp" srcset="/images/IMG_0886-1000w.webp 1000w"><img src="/images/IMG_0886-1000w.jpeg" class="kg-image" alt="" loading="lazy" width="1000" height="750"></picture><figcaption>Reverse of the controllers</figcaption></figure><figure class="kg-card kg-image-card kg-card-hascaption"><picture><source type="image/webp" srcset="/images/IMG_0890-1000w.webp 1000w"><img src="/images/IMG_0890-1000w.jpeg" class="kg-image" alt="" loading="lazy" width="1000" height="750"></picture><figcaption>Controller unit reassembled</figcaption></figure><figure class="kg-card kg-image-card kg-card-hascaption"><picture><source type="image/webp" srcset="/images/IMG_0888-750w.webp 750w"><img src="/images/IMG_0888-750w.jpeg" class="kg-image" alt="" loading="lazy" width="750" height="1000"></picture><figcaption>Test wire-up to the Pi</figcaption></figure><p>Remove the iPad retaining ‘dongle’ at the front.</p><p>Mount the iPad screen centrally on the backplane. I initially secured it with screws, but the pressure caused light blemishes on the screen. I now use two ‘Command’ velcro strips to hold it place, much better.</p><figure class="kg-card kg-image-card kg-card-hascaption"><picture><source type="image/webp" srcset="/images/IMG_0891-750w.webp 750w"><img src="/images/IMG_0891-750w.jpeg" class="kg-image" alt="" loading="lazy" width="750" height="1000"></picture><figcaption>Adhesive velcro works much better than screws as there’s no pressure</figcaption></figure><p>You’ll need to make a small cut of an inch or so to feed the cable between the screen and the convertor board, so it can go to the rear of the backplane without getting in the way.</p><p>You can now resemble the entire iCade unit.</p><p>I now mounted the convertor circuit (which is actually composed of three parts) to the back of the iCade, screwing them in place.</p><p>Screw the Pi into place in a suitable spot to connect the HDMI cable to both it and the convertor as well as reaching the jumper leads.</p><p>Connect the jumpers to the GPIO on the Raspberry Pi, not forgetting the ground.</p><p>For sound, I had an old USB-powered speaker lying around that I was able to connect directly to the Pi’s audio out and use the Pi’s USB ports to power it. So that all got screwed on the back too. I even procured a <a href="https://www.amazon.co.uk/gp/product/B0131PQIJM/ref=oh_aui_detailpage_o08_s00?ie=UTF8&psc=1&ref=stowe.local">small in-line volume control</a>so adjusting it would not require a keyboard.</p><p>How about power? I decided not to be clever, mainly due to the requirements of the Pi 3, so built a 2-gang extension lead with in-line power switch to power both the Pi and the convertor. This was mounted, with the two PSUs, to the side of the rear of the iCade again using Command velcro strips so it can be moved if access is required.</p><figure class="kg-card kg-image-card kg-card-hascaption"><picture><source type="image/webp" srcset="/images/IMG_1115-1000w.webp 1000w"><img src="/images/IMG_1115-1000w.jpeg" class="kg-image" alt="" loading="lazy" width="1000" height="1333"></picture><figcaption>Yes it’s mess, but it’s my mess.</figcaption></figure><p>Finally, with a LOT of measuring, I cut out a bezel for the front using thick black card.</p><figure class="kg-card kg-image-card kg-card-hascaption"><picture><source type="image/webp" srcset="/images/IMG_0930-750w.webp 750w"><img src="/images/IMG_0930-750w.jpeg" class="kg-image" alt="" loading="lazy" width="750" height="1000"></picture><figcaption>CHALLENGE COMPLETED! (ish)</figcaption></figure><p>Time for some software, methinks.</p><p>As with previous projects, I used the amazing <a href="https://retropie.org.uk/?ref=stowe.local">Retropie</a> variant of Rasbian. This saves So. Much. Time. I’ll leave you to comb their excellent site for details on how to set everything up, but how to read the inputs from the controllers? Well, this turns out to be much easier than I expected thanks to <a href="https://learn.adafruit.com/retro-gaming-with-raspberry-pi/adding-controls-software?ref=stowe.local">Adafruit’s Retrogame</a> code which was built exactly for this purpose. Once installed, it monitors GPIO lines of your choosing and converts any input to the keypress of your choice. Emulators are none the wiser. Here’s my config file to match the GPIO wire-up from earlier (/boot/retrogame.cfg):</p><!--kg-card-begin: html--><pre>
LEFT      22  # Joypad left
RIGHT     17  # Joypad right
UP        27  # Joypad up
DOWN       4  # Joypad down
A          6  # 'A' button
B         12  # 'B' button
X         13  # 'X' button
Y         16  # 'Y' button
S         26  # 'Select' button
D         21  # 'Start' button
ESC    26 21  # Hold Start+Select to exit ROM
</pre><!--kg-card-end: html--><p>Depending on what emulators you are using, you will need to configure them to use the controllers, so have a keyboard handy when setting up. Currently, I’m just using MAME for arcade games but there’s no reason to avoid NES, SNES, ZX Spectrum, whatever Retropie can handle.</p><p>A couple of points on the display. Of course, initially, the screen is landscape but fortunately, Raspbian makes it quite straightforward to adjust this from the command line:</p><!--kg-card-begin: html--><pre>
sudo nano /boot/config.txt
</pre><!--kg-card-end: html--><p>And enter the following on a new line at the end of the file:</p><!--kg-card-begin: html--><pre>
display_rotate=3
</pre><!--kg-card-end: html--><p>Now reboot the Pi. EmulationStation plays very well with this new setup, as do the variants of MAME.</p><p>You may find the screen doesn’t look quite right, maybe a little stretchy. This is a common problem all to do with the Pi choosing the wrong HDMI mode because the screen’s CPU is telling it porkies. Thankfully, it can be easily resolved. Again, from the command line:</p><!--kg-card-begin: html--><pre>
sudo nano /boot/config.txt
</pre><!--kg-card-end: html--><p>And add the following at the end of the file:</p><!--kg-card-begin: html--><pre>
hdmi_group=2
hdmi_mode=16
</pre><!--kg-card-end: html--><p>This forces the Pi to use the optimum settings for the iPad screen. If, for any reason, you don’t get a display, you can mount the Boot partition of the SD card on a regular PC/Mac and remove those lines from boot/config.txt. If you get ‘dancing speckles’ on the screen, have a play with the brightness and contrast controls.</p><p>Finally I have an iCade that I’m happy with. Whilst this isn’t a complete write-up, if I’ve not made anything clear or have been plain confusing, ask away in the comments below. If you ever want to have a play, I’ll be bringing it along to future Raspberry Jam events in Milton Keynes.</p><figure class="kg-card kg-image-card kg-card-hascaption"><picture><source type="image/webp" srcset="/images/IMG_0895-750w.webp 750w"><img src="/images/IMG_0895-750w.jpeg" class="kg-image" alt="" loading="lazy" width="750" height="1000"></picture><figcaption>DUM DUM DUM DUM</figcaption></figure>
</article>


<div class="row">
  <div class="col-12 mb-3">
    
      
        <a href="/tags/makes" class="badge rounded-pill text-bg-primary">Makes</a>
      
    
      
        <a href="/tags/raspberry-pi" class="badge rounded-pill text-bg-primary">Raspberry Pi</a>
      
    
      
        <a href="/tags/vintage-tech" class="badge rounded-pill text-bg-primary">Vintage Tech</a>
      
    
      
    
  </div>
</div>
<p class="backlink">
  <a href="/">Home</a>
</p>
					</main>

        </div>

        <div class="row justify-content-md-center p-0">
					
          <footer class="col-md-8 col-sm-12 col-lg-6 footer">

            <hr>

            <div xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/">
						  
							<a id="rss-icon" href="/feed/feed.xml" aria-label="RSS Feed">
								<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-rss-fill" viewBox="0 0 16 16">
  <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm1.5 2.5c5.523 0 10 4.477 10 10a1 1 0 1 1-2 0 8 8 0 0 0-8-8 1 1 0 0 1 0-2m0 4a6 6 0 0 1 6 6 1 1 0 1 1-2 0 4 4 0 0 0-4-4 1 1 0 0 1 0-2m.5 7a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3"></path>
</svg>
							</a>

							<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer">
							<span class="cc">
								<picture><source type="image/webp" srcset="/images/by-nc-sa.eu-403w.webp 403w"><img src="/images/by-nc-sa.eu-403w.jpeg" alt="CC BY-NC-SA" width="403" height="141"></picture>
							</span>
						</a>

            <p></p>

          </div></footer>
        </div>

      </div>

    </div>

		<script data-goatcounter="https://mrpjevans.goatcounter.com/count" async="" src="//gc.zgo.at/count.js"></script>
  </body>
</html>