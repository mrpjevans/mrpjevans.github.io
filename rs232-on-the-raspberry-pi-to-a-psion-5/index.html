
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="The personal blog of PJ Evans">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Nothing+You+Could+Do&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Coustard&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <link href="/src/css/mrpjevans.css" rel="stylesheet">

		<link rel="icon" type="image/png" size="256x256" href="/images/pj-blog-logo-256.png">

		<link rel="icon" type="image/png" size="512x512" href="/images/pj-blog-logo-512.png">

		<link rel="alternate" type="application/rss+xml" title="Mr PJ Evans Blog Feed" href="https://mrpjevans.com/feed/feed.xml">

		<title>Mr PJ Evans | RS232 on the Raspberry Pi (to a Psion 5)</title>

  </head>
  <body data-bs-theme="dark">

    <div class="container">
      <div class="row justify-content-md-center">
        <div class="col-md-8 col-sm-12 col-lg-6">

					<header>
						<nav class="navbar bg-dark navbar-expand-lg border-bottom border-body" data-bs-theme="dark">
							<div class="container-fluid">
								<a class="navbar-brand logo" href="/">Mr PJ Evans</a>
								<div>
									<div>
										<ul class="navbar-nav me-auto mb-2 mb-lg-0">
											<li class="nav-item">
											<a class="nav-link " href="/tags">Tags</a>
											</li>
											<li class="nav-item">
												<a class="nav-link " href="/about">About</a>
											</li>
										</ul>
									</div>	
								</div>
							</div>
						</nav>
					</header>

					<main>
          	
  

  
    
    


    <h1 class="h1-with-date">RS232 on the Raspberry Pi (to a Psion 5)</h1>

<p class="meta-date text-center">10 Oct 2012</p>

<picture><source type="image/webp" srcset="/images/2012-10-10-17.14.58-1-600w.webp 600w"><img src="/images/2012-10-10-17.14.58-1-600w.jpeg" alt="" width="600" height="450"></picture>

<article>
  <p>The Raspberry Pi’s General-Purpose Input/Output (GPIO) connector consists of 26 pins that are a hacker’s delight, allowing for some serious analogue and digital tomfoolery. When drooling over the specs, one thing that surprised me was the inclusion of a basic serial port. This was a lower-powered version of our old 20th century friend, RS232. For those of you who have no idea what I’m talking about, don’t panic, although this post may not be for you. RS232 would seem to many to be redundant old-school tech but in reality it’s still all around you as it is still probably the simplest way you can get two computers chatting digitally.</p><figure class="kg-card kg-image-card"><picture><source type="image/webp" srcset="/images/raspi-gpio-254w.webp 254w"><img src="/images/raspi-gpio-254w.jpeg" class="kg-image" alt="" loading="lazy" width="254" height="581"></picture></figure><p>As a bonus, the bright folks of Pi have configured their stock Raspbian OS to use the serial port as a console. That is, you can use it to log in and get a command line prompt. My day job involves a number of servers at a data centre. Despite being the latest and greatest kit, each one has an RS232 port configured like this. In the event of serious problem where not even the graphics card is working correctly, you may still be able to get into the system using this interface.</p><p>The serial interface provided on the Pi is about as simple as you can make it. Only four lines are used; power, transmit, receive and ground. Couldn’t be easier, just wire this to to a COM port on a PC and get talking. Right?</p><p>Err, no. There’s a problem: The Pi runs at a meagre 3.3V. RS232 requires +12V for the high (or ‘1’) signal and -12V for low (or ‘0’). My friend the Pi can’t do that out of the box, but a bit of Googling revealed some enterprising types who had constructed a solution. Luckily, there’s a readily-available chip that can convert the signals in both directions, allowing us to create a ‘real’ RS232 interface from the Pi’s low-voltage version. This gizmo costs about £5, is readily available and has the catchy title of the MAX3232CPE. All it needs is a few capacitors to help it along at you’re good to go.</p><p>Time to get to work. I got everything from my local Maplin (links and order codes provided).</p><ul><li>1 x <a href="http://www.maplin.co.uk/max3232cpe-3v-5v-rs232-transceiver-11979?ref=stowe.local">MAX3232CPE Integrated Circuit</a> (DT26D)</li><li>A <a href="http://www.maplin.co.uk/dual-in-line-sockets-2530?ref=stowe.local">16-pin DIL IC</a> socket for the above (BL19V) (not required if breadboarding)</li><li>5 x <a href="http://www.maplin.co.uk/decoupling-ceramic-disc-capacitors-318?ref=stowe.local">0.1uF Capacitors</a> (I used simple ceramic discs in the final circuit) (N43CJ)</li><li><a href="http://www.maplin.co.uk/d-sub-connectors-1113?ref=stowe.local">9-Pin D-type socket</a> (RK61R)</li><li>Wires</li><li><a href="http://www.maplin.co.uk/colour-single-pin-interconnect-cables-98848?ref=stowe.local">Wires with connectors for the GPIO port</a> (A39GF)</li><li>Some <a href="http://www.maplin.co.uk/stripboard-1918?ref=stowe.local">veroboard</a> (FL17T) (although I would strongly recommend using a <a href="http://www.maplin.co.uk/ad-101-breadboard-5199?ref=stowe.local">breadboard</a> (AG09K) first to prototype)</li></ul><p>Also handy:</p><ul><li>Some soldering experience (unless breadboarding)</li><li>A COM/Serial Port</li></ul><p>I had a problem with the last item there. As a Mac user, I knew that Steve Jobs had banished the RS232 port to the parts bin many years ago in favour of the over-complicated-but-a-bit-more-useful USB interface. Fortunately, Maplin sell a <a href="http://www.maplin.co.uk/usb-to-serial-9-pin-male-adaptor-29968?ref=stowe.local">USB to serial adaptor</a> based on the PL2303 chipset that works great on recent OS X flavours, including Mountain Lion – although I had to dig around for some drivers and instructions. (<a href="http://plugable.com/drivers/prolific/?ref=stowe.local">PL2303 drivers for Mac</a>)</p><p>To Work. Here’s what we’re going to create: (<a href="http://old.mrpjevans.com/wp-content/uploads/2012/10/max3232.jpg?ref=stowe.local">a more technical version from speakjava</a>)</p><figure class="kg-card kg-image-card"><picture><source type="image/webp" srcset="/images/Pi-RS232-1024w.webp 1024w"><img src="/images/Pi-RS232-1024w.jpeg" class="kg-image" alt="" loading="lazy" width="1024" height="700"></picture></figure><p>First of all I built this up on a breadboard, following Joonas Pihlajamaa’s instructions (link at foot of page). If you’re new to mounting ICs on a breadboard, note that you’ll need to carefully bend the slightly splayed pins in to fit. Don’t use the socket at this point. Next up, I soldered up the 9-pin connector. From the reverse/solder-side I connected RXD to Pin 2, TXD to Pin 3 and Ground to Pin 5 (top-right).</p><figure class="kg-card kg-image-card"><picture><source type="image/webp" srcset="/images/rs232-breadboard-1024w.webp 1024w"><img src="/images/rs232-breadboard-1024w.jpeg" class="kg-image" alt="" loading="lazy" width="1024" height="768"></picture></figure><p>Now with your Pi switched OFF, connect the four lines for the Pi from the circuit to pins 1, 6, 8 and 10. Pin 1 is the top-left pin marked ‘P1’ on the board. The pin on it’s right is Pin 2, then the pin below P1 is Pin 3, on it’s right Pin 4 and so on.</p><p>The four lines you are connecting are:</p><ul><li>Pin 1 – +3.3V</li><li>Pin 6 – Ground</li><li>Pin 8 – TXD (Transmit data)</li><li>Pin 10 – RXD (Receive data)</li></ul><p>With the 9-pin RS232 connector hooked up to your COM port, switch your Pi on.</p><p>Your Pi should start up normally and seem blissfully unaware of it’s new connection. Now turn your attention to your computer.</p><p>You need some software to establish a connection to your Pi. On Windows, hunt down <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html?ref=stowe.local">PuTTY</a>, a tool built just for this purpose. On Mac, try out <a href="http://www.macwise.com/?ref=stowe.local">MacWise</a> (£) or, and this applies to Linux as well, go with screen, the command-line utility.</p><p>If you’re going with screen, see if it is installed:</p><p>$ screen -h</p><p>Not found? Then…</p><p>$ apt-get install screen<br>$ screen /dev/ttyUSB0 115200</p><p>Or if you’re on a Mac and have MacPorts installed:</p><p>$ port install screen<br>$ screen /dev/tty.usbserial 115200</p><p>NB: The /dev/ device many vary depending on OS and drivers etc. Have a look around your /dev/ directory if the above doesn’t work. You’re generally trying to locate something mentioning ‘tty’ and ‘usb’.</p><p>The screen should go blank and a tap on the enter key will show a login prompt to the Pi. Congratulations.</p><p>If you’re using a more advanced package, note that RS232 requires configuration before it will work. The Pi’s settings are 115,200bps (bits-per-second), 8 data-bits, no parity bit and 1 stop-bit. This is typically written as 115200 8N1 and you should match your settings to this. Once configured, open or connect (depending on how your software terms it) and press the Enter key. All being well, a Raspberry Pi login prompt should greet you.</p><p>Not working? Nine out of ten times this is down to the RXD and TXD lines being the wrong way around on the PC side. After disconnecting and switching your Pi off, try swapping the lines around on the breadboard and giving it another go. If that doesn’t do the trick, re-check your settings in your terminal emulator.</p><p>I decided to bring this to it’s logical conclusion (in my mind) by hooking up the Pi to a perfect screen and keyboard combination; the Psion 5. However, it didn’t work at first as both the Psion and the Pi expect to be the ‘client’ talking to the computer. I needed to add a crossover cable, which crosses over RXD and TXD, to get it working. But work it did!</p><figure class="kg-card kg-image-card"><picture><source type="image/webp" srcset="/images/2012-10-10-17.15.31-600w.webp 600w"><img src="/images/2012-10-10-17.15.31-600w.jpeg" class="kg-image" alt="" loading="lazy" width="600" height="450"></picture></figure><figure class="kg-card kg-image-card"><picture><source type="image/webp" srcset="/images/2012-10-10-17.14.58-600w.webp 600w"><img src="/images/2012-10-10-17.14.58-600w.jpeg" class="kg-image" alt="" loading="lazy" width="600" height="450"></picture></figure><p>Once happy with the breadboard, it was easy enough to transfer the circuit over to veroboard and create something a little more permanent.</p><p>You may be wondering what the point of all this is, but the fact is that many, many devices out there still use RS232 for communication. You can find RS232 ports on projectors, set-top boxes, even cars. Heck, my old washing machine had one (a Dyson Contra-rotator). So, having a fully-working RS232 interface on something as versatile as the Pi might be fun. A bit of Googling will also reveal how you can change the operation of the port from a console login to, well, whatever you want. What am I going to use it for? Well, that’s another post.</p><p><em>Sources for this article:</em><br>Joonas Pihlajamaa<br><a href="http://codeandlife.com/2012/07/01/raspberry-pi-serial-console-with-max3232cpe/?ref=stowe.local">http://codeandlife.com/2012/07/01/raspberry-pi-serial-console-with-max3232cpe/</a></p><p>speakjava<br><a href="https://blogs.oracle.com/speakjava/entry/serial_communications_with_a_raspberry?ref=stowe.local">https://blogs.oracle.com/speakjava/entry/serial_communications_with_a_raspberry</a></p>
</article>


<div class="row">
  <div class="col-12 mb-3">
    
      
        <a href="/tags/raspberry-pi" class="badge rounded-pill text-bg-primary">Raspberry Pi</a>
      
    
      
    
  </div>
</div>
<p class="backlink">
  <a href="/">Home</a>
</p>
					</main>

        </div>

        <div class="row justify-content-md-center p-0">
					
          <footer class="col-md-8 col-sm-12 col-lg-6 footer">

            <hr>

            <div xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/">
						  
							<a id="rss-icon" href="/feed/feed.xml" aria-label="RSS Feed">
								<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-rss-fill" viewBox="0 0 16 16">
  <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm1.5 2.5c5.523 0 10 4.477 10 10a1 1 0 1 1-2 0 8 8 0 0 0-8-8 1 1 0 0 1 0-2m0 4a6 6 0 0 1 6 6 1 1 0 1 1-2 0 4 4 0 0 0-4-4 1 1 0 0 1 0-2m.5 7a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3"></path>
</svg>
							</a>

							<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer">
							<span class="cc">
								<picture><source type="image/webp" srcset="/images/by-nc-sa.eu-403w.webp 403w"><img src="/images/by-nc-sa.eu-403w.jpeg" alt="CC BY-NC-SA" width="403" height="141"></picture>
							</span>
						</a>

            <p></p>

          </div></footer>
        </div>

      </div>

    </div>

		<script data-goatcounter="https://mrpjevans.goatcounter.com/count" async="" src="//gc.zgo.at/count.js"></script>
  </body>
</html>